import chardet

def convert_ansi_to_shiftjis(input_file, output_file):
    # Detect the encoding of the ANSI file
    with open(input_file, 'rb') as f:
        result = chardet.detect(f.read())

    # Open the ANSI file with the detected encoding and convert it to Shift JIS
    with open(input_file, 'r', encoding=result['encoding']) as f:
        ansi_content = f.read()

    # Write the content to the output file with Shift JIS encoding
    with open(output_file, 'w', encoding='shift_jis') as f:
        f.write(ansi_content)

# Replace 'input.txt' with the path to your ANSI-encoded file
# Replace 'output_shiftjis.txt' with the desired output file name
convert_ansi_to_shiftjis('input.txt', 'output_shiftjis.txt')
